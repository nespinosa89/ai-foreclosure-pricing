<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Solution Focused CRM – Pricing</title>

  
  <script src="https://www.paypal.com/sdk/js?client-id=AdYHUzTHDr0JG_eRedrDqhHAmF2SmYvNIiC9Hc7pTaRAMERxtaMcOUizMad7u7hCkC3yx38RcnBocHJg&vault=true&intent=subscription"></script>

  <style>
    :root{--bg:#0b0b10;--card:#111422;--line:#1b2033;--text:#e9ecf4;--muted:#9aa0b4}
    html,body{background:var(--bg);color:var(--text);margin:0}
    .container{max-width:980px;margin:56px auto;padding:0 20px}
    h1{font-size:32px;margin:0 0 8px}
    p.lead{color:var(--muted);margin:0 0 28px}
    .plans{display:grid;grid-template-columns:1fr;gap:20px}
    @media(min-width:860px){.plans{grid-template-columns:1fr 1fr}}
    .plan{background:var(--card);border:1px solid var(--line);border-radius:14px;padding:24px;box-shadow:0 10px 24px rgba(0,0,0,.35)}
    .plan h2{margin:0 0 8px}
    .plan p{margin:0 0 18px;color:#b3b8c9}
    .hint{color:var(--muted);text-align:center;margin-top:36px;font-size:13px}
    .error{background:#311; border:1px solid #622; color:#f6dcdc; padding:10px 12px; border-radius:10px; margin:16px 0}
  </style>
</head>
<body>
  <div class="container">
    <h1>Solution Focused CRM</h1>
    <p class="lead"> Your new CRM that updates DAILY with Probate Leads, Forecloure leads, and all your marketing ALL IN ONE! Choose a plan to get started. After checkout, you’ll receive a login link by email.</p>

    <div id="diag" class="error" style="display:none"></div>

    <div class="plans">
      <div class="plan">
        <h2>Basic — $299/mo</h2>
        <p>Perfect for one market (one county) and one lead source.</p>
        <div id="paypal-basic"></div>
      </div>

      <div class="plan">
        <h2>Pro — $349/mo</h2>
        <p>Includes multiple lead sources and extended data coverage.</p>
        <div id="paypal-pro"></div>
      </div>
    </div>

    <p class="hint">Secure payments handled by PayPal Subscriptions</p>
  </div>

  <script>
    
    const PAYPAL_CLIENT_ID = 'AdYHUzTHDr0JG_eRedrDqhHAmF2SmYvNIiC9Hc7pTaRAMERxtaMcOUizMad7u7hCkC3yx38RcnBocHJg;
    const BASIC_PLAN_ID    = 'P-4WB60771BW6228915NEEM3WA;
    const PRO_PLAN_ID      = 'P-280022485U8934712NEEM5DI;
    // Where to send the user after PayPal approves the subscription:
    const ONBOARD_URL      = 'https://foreclosure-scraper-nicole210.replit.app/billing/onboarding';
    // =============================================

    const diag = document.getElementById('diag');
    function showErr(msg){ diag.style.display='block'; diag.textContent=msg; }

    // Sanity check so we don’t silently fail
    if (!window.paypal) {
      showErr('PayPal SDK did not load. Check your client-id in the <script> URL.');
    }

    function wireButton(container, planId, planKey){
      paypal.Buttons({
        style:{shape:'rect',color:'gold',layout:'vertical',label:'subscribe'},
        createSubscription:(_, actions)=> actions.subscription.create({ plan_id: planId }),
        onApprove: (data)=> {
          // PayPal returns data.subscriptionID
          window.location.href = `${ONBOARD_URL}?subscription_id=${encodeURIComponent(data.subscriptionID)}&plan=${encodeURIComponent(planKey)}`;
        },
        onError: (err)=> showErr('PayPal error: ' + (err?.message || err))
      }).render(container);
    }

    try {
      wireButton('#paypal-basic', BASIC_PLAN_ID, P-4WB60771BW6228915NEEM3WA;
      wireButton('#paypal-pro',   PRO_PLAN_ID,   P-280022485U8934712NEEM5DI;
    } catch(e) {
      showErr('Failed to render PayPal buttons. Verify your Plan IDs and try again.');
    }
  </script>
</body>
</html>

    
